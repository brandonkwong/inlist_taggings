<h1>Inlist</h1>

<!-- Item Form -->
<%= form_for @item do |f| %>
    <%= f.text_field :name, placeholder: 'item' %>

    <%= fields_for @tag do |ff| %>
        <% ff.text_field :name, placeholder: 'tags' %>
    <% end %>

    <%= f.submit 'Add Item' %>
<% end %>

<br><hr>

<h2>Collection</h2>

<div class="row">

    <!-- Item List -->
    <div class="col-md-4">
        <h3>Items</h3>
        <ul>
            <% @items.each do |i| %>
            <li>
                <%= i.name %> &nbsp;[ <%= link_to 'x', i, method: :delete %> ]
                <% if i.tags.exists? %>
                <br>
                [<% i.tags.each do |t| %>&nbsp;#<%= t.name %>&nbsp;<% end %>]
                <% end %>
            </li>
            <br>
            <% end %>
        </ul>
    </div>

    <!-- Tag List -->
    <div class="col-md-4">
        <h3>Tags</h3>
        <ul>
            <% @tags.each.sort_by{ |a| a.name.downcase }.each do |t| %>
            <li>#<%= t.name %> &nbsp;[ <%= link_to 'x', t, method: :delete %> ]</li>
            <br>
            <% end %>
        </ul>
    </div>

    <!-- Tagging List -->
    <div class="col-md-4">
        <h3>Taggings</h3>
        <ul>
            <% @tags.each.sort_by{ |a| a.name.downcase }.each do |t| %>
            <li>
                #<%= t.name %>
                <ul>
                <% t.items.each.sort_by{ |a| a.name.downcase }.each do |i| %>
                    <li><%= i.name %></li>
                <% end %>
                </ul>
            </li>
            <br>
            <% end %>
        </ul>
    </div>

</div> <!-- end row -->